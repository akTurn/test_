<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Account Journal</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<!--
https://www.geeksforgeeks.org/top-python-scripts-for-developers-to-implement/
<body>
    <div class="container">
        <h1>Welcome, {{ user.username }}!</h1>
        <a href="{{ url_for('logout') }}">Logout</a>
        <h2>Journal</h2>

    </div>
</body>-->
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <h2>DET SYSTEM</h2>
        <ul>
            <li><a href="/expense">Expense</a></li>
            <li><a href="/income">Income</a></li>
            <li><a href="/reports">Reports</a></li>
            <li><a href="{{ url_for('dashboard') }}">Dashboard</a></li>
        </ul>
    </div>

    <!--
    <div class="topnav">
         <h1>Welcome, {{ user.username }}!</h1>
        <a href="/profile">Profile</a>
        <a href="/logout">Logout</a>
    </div>-->

    <!-- Top Navigation Bar -->
<div class="topnav">
    <div class="dropdown">
        <button class="dropbtn">Welcome, {{ user }} &#9660;</button>
        <div class="dropdown-content">
            <a href="/profile">Profile</a>
            <a href="/settings">Settings</a>
            <a href="/logout">Logout</a>
        </div>
    </div>
</div>


    <!-- Content Area -->
    <div class="content">
        <h1>Last Week's Transactions</h1>
        <!-- Display last week's transaction details here -->
                {% block content %}
        {% endblock %}
    </div>
</body>
<script>

 jwt_token = "{{ jwt_token }}";
    console.log("JWT Token:", jwt_token);


fetch("/dashboard", {
    method: "GET",
    headers: {
        "Authorization": jwt_token
    }
})
.then(response => {
    if (response.status === 200) {
        // Handle successful response
    } else {
        // Handle unauthorized access or other error
    }
})
.catch(error => {
    // Handle any network or request error
});


</script>
</html>
